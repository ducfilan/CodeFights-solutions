<script type="text/javascript">
    var nochange = [
        [9, 6],
        [],
        [3],
        [5],
        [],
        [3],
        [9, 0],
        [],
        [],
        [6, 0]
    ];

    var plus = [
        [8],
        [7],
        [],
        [9],
        [],
        [6, 9],
        [8],
        [],
        [],
        [8]
    ];

    var minus = [
        [],
        [],
        [],
        [],
        [],
        [],
        [5],
        [1],
        [9, 0, 6],
        [5, 3]
    ];

    MatchstickSolutions("10+1=17");

    function MatchstickSolutions(equation) {
        var splitedToNumbers = equation.split(/[+\-=]/);

        var isPlusCalculation = ~equation.indexOf('+');

        var firstNumberString = splitedToNumbers[0];
        var firstNumberInt = parseInt(firstNumber);
        var secondNumberString = (isPlusCalculation ? '' : '-') + splitedToNumbers[1];
        var secondNumberInt = parseInt(secondNumberString);
        var thirdNumberString = splitedToNumbers[2];
        var thirdNumberInt = parseInt(thirdNumberString)

        numberOfSolutions = 0

        numberOfSolutions += changeInsideEachNumber(f, 1) + changeInsideEachNumber(s, 2) + changeInsideEachNumber(t, 3)
        
        numberOfSolutions += changeBySub(f, 1) + changeBySub(s, 2) + changeBySub(t, 3)
    }
    
    function plusNum(num){
        var changedNumbersFromNum = [];
        
        for(var i = 0; i < num.length; i++){
            numCp = num.split('')
            for(o = 0; o < ){
                
            }
        }
    }
    
    function changeBySub(num, pos){
        count = 0

        for (i = 0; i < num.length; i++) {
            numCopy = num.split('')

            nj = minus[num[i]]

            for (j = 0; j < nj.length; j++) {
                numCopy[i] = nj[j]
                
                for(k = 0; k < num.length; k++){
                    if(k==i) continue
                    npl = plus[k];
                    for (l = 0; j < npl.length; j++) {
                        
                    }
                }
                if (pos == 1 && parseInt(numCopy.join('')) + sp == tp)
                    count++
                if (pos == 2 && fp + parseInt(numCopy.join('')) == tp)
                    count++
                if (pos == 3 && fp + sp == parseInt(numCopy.join('')))
                    count++
            }
        }
        
        return count
    }

    function changeInsideEachNumber(num, pos) {
        count = 0

        for (i = 0; i < num.length; i++) {
            numCopy = num.split('')

            nj = nochange[num[i]]

            for (j = 0; j < nj.length; j++) {
                numCopy[i] = nj[j]
                if (pos == 1 && parseInt(numCopy.join('')) + sp == tp)
                    count++
                if (pos == 2 && fp + parseInt(numCopy.join('')) == tp)
                    count++
                if (pos == 3 && fp + sp == parseInt(numCopy.join('')))
                    count++
            }
        }
        
        return count
    }

</script>
